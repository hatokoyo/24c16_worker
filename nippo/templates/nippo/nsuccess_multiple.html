<!DOCTYPE html>
<html lang="ja" xml:lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
<title>日報送信成功 ｜ 日報アプリ</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% load static %}
<link rel="stylesheet" href="{% static 'css/common62.css' %}" media="all"/>

<!-- Update the CSS in the <head> section -->
    <style>
    .sidebar {
      max-height: 0;
      overflow: hidden;
      position: fixed;
      top: 80px;
      left: 0;
      width: 90%;
      height: 470px;
      background-color: #257c27;
      color: white;
      padding: 0 5% 0;
      box-shadow: -2px 0 5px rgba(0,0,0,0.5);
      z-index: 1000;
      transition: max-height 0.5s ease-out, padding 0.5s ease-out;
    }
    .sidebar.active {
      max-height: 470px;
      padding: 20px 5% 10px;
    }
        .sidebar ul {
        box-sizing: border-box;
        list-style-type: none; /* Remove default list styling */
        padding: 0; /* Remove padding */
      }
      .sidebar li {
        background-color: white; /* White background for list items */
        color: black; /* Black text color */
        margin: 2px 0; /* Space between items */
        padding: 10px; /* Padding inside the boxes */
        border: 1px solid #ccc; /* Light gray border */
        height:23px;
        font-size: 95%;
        font-family: "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic ProN", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", sans-serif;
    
    
    
        /* No border-radius for sharp corners */
        cursor: pointer; /* Change cursor to pointer */
      }
      .sidebar li:hover {
        background-color: #f0f0f0; /* Light gray on hover */
      }
     .video-container {
      position:fixed;

      left: 0;
      width: 100%; /* 必要に応じてサイズを調整 */
      height: auto; /* 必要に応じてサイズを調整 */
      object-fit: cover;
      z-index: index -1;
      padding: 0;
      margin: 0;
     }
     .link-container {
        position: relative; /* 相対位置を設定 */
        z-index: 2; /* リンクを前面に表示 */
        margin-top: 20px; /* 上部に余白を追加 */
        text-align: right; /* 右寄せ */

    }
    .arrow {
        color: green; /* 矢印の色 */
        margin-right: 5px; /* 矢印とテキストの間に余白 */
    }
      </style>

</head>
<body>
</div>  </header>
  <!-- LayerHeader End -->
<div id="main" class="main">
  <div class="category-heading">
    <div class="heading">
      <div class="heading__Body">
        <h1>日報入力</h1>
        <div class="navToggle">
            <button id="js-navToggle" title="メニューの開閉ボタン"><img src="/media/pages/menuBtn.png" width="45" height="45" alt="メニュー"></button>
          </div>

    </div>
</div>
  </div>

  <video class="video-container" autoplay muted playsinline id="myVideo">
    <source src="" type="video/webm">
    お使いのブラウザは動画タグに対応していません。
</video>




  <!-- /.breadCrumb -->
    <div class="main__body">
      <!-- [ Reader Start ] -->
      <!-- [ Reader End ] -->
    <div class="main__body__left">
        <h2>{{ name }} さん</h2>

        <video class="video-container" autoplay muted playsinline id="myVideoIOS">
          <source src="" type="video/webm">
          お使いのブラウザは動画タグに対応していません。
      </video>

      <div>正常に送信されました。</div> 
<div class="link-container">
    <span class="arrow">→</span> <!-- 緑色の矢印 -->
    <a href="{% url 'nhistory' %}">送信履歴を見る</a>
</div>

<div class="link-container">
  <span class="arrow">→</span> <!-- 緑色の矢印 -->
  <a href="{% url 'nhome' %}">ホームに戻る</a>
</div>




<div class="sidebar" id="sidebar">
  <div style="display: flex; justify-content: space-between; margin-bottom: -3px; margin-top: -10px;">
    <a href="{% url 'nsettings' %}" style="flex: 1; text-decoration: none; color: inherit;">
      <div style="padding: 10px; border: 1px solid #ccc; margin-right: 5px; text-align: center; cursor: pointer; height: 15px; background-color: #f0f0e4; color: black;">
        設定
      </div>
    </a>
    <a href="{% url 'ninformation' %}" style="flex: 1; text-decoration: none; color: inherit;">
      <div style="padding: 10px; border: 1px solid #ccc; margin-left: 5px; text-align: center; cursor: pointer; height: 15px; background-color: #f0f0e4; color: black;">
        情報
      </div>
    </a>
  </div>
  
  <ul>
    <a href="{% url 'nhome' %}" style="text-decoration: none; color: inherit;">
    <li>
      <img src="/media/pages/IMG_2699.jpg" alt="Image" style="width: 23px; height: 23px; margin-right: 10px;  align-items: flex-start;justify-content: start;">
      トップページ
    </li>
    </a>
    
    <a href="{% url 'nhistory' %}" style="text-decoration: none; color: inherit;">
    <li>
    履歴
    </li>
    </a>

    <a href="{% url 'nmultiple' %}" style="text-decoration: none; color: inherit;">
      <li>
      複数入力
      </li>
      </a>
    
    <a href="{% url 'nkoban' %}" style="text-decoration: none; color: inherit;">
      <li>
      工番リスト
      </li>
      </a>

      <a href="{% url 'nhelp' %}" style="text-decoration: none; color: inherit;">
        <li>
        使い方ヘルプ
        </li>
        </a>
    
    <a href="{% url 'nlogin' %}" style="text-decoration: none; color: inherit;">
    <li>ログアウト</li>
    </a>

    <a href="{% url 'delete_sagyo' %}" style="text-decoration: none; color: inherit;">
    <li>
    開発用(日報データ削除)
    </li>
    </a>
    
    <a href="{% url 'napproval' %}" style="text-decoration: none; color: inherit;">
      <li>
      開発用(承認未承認)
      </li>
      </a>
  </ul>
  <div style="display: flex; justify-content: center; margin-top: 20px;">
    <button id="closeSidebar" style="background-color: #f0f0e4;color: black; border: none; width: 50%; cursor: pointer;height: 30px;">
      閉じる
    </button>
            </div>

</body>
</html>
<script>
  var $btn = $('#js-navToggle');
  var $sidebar = $('#sidebar');
  var $closeBtn = $('#closeSidebar');

  $btn.on('click', function() {
    $sidebar.toggleClass('active'); // Toggle sidebar visibility
  });

  $closeBtn.on('click', function() {
    $sidebar.removeClass('active'); // Close sidebar
  });
</script>

<script>
  // Detect iOS devices
  function isIOS() {
    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
  }

  document.addEventListener('DOMContentLoaded', function() {
    const videoElementTop = document.getElementById('myVideo');
    const videoSourceTop = videoElementTop.querySelector('source');

    const videoElementBottom = document.getElementById('myVideoIOS');
    const videoSourceBottom = videoElementBottom.querySelector('source');

    if (!isIOS()) {
      // Only set the video source for non-iOS devices for the top video
      const videos = [
        "/media/pages/yellow11.webm",
        "/media/pages/cracker1.webm",
        //"/media/pages/brush11.webm",
      ];

      // Randomly select a video
      const randomVideo = videos[Math.floor(Math.random() * videos.length)];
      videoSourceTop.src = randomVideo;
      videoElementTop.load(); // Reload the video
    } else {
      // Only set the video source for iOS devices for the bottom video
      const iosVideos = [
        //"/media/pages/cracker1.webm",
        //"/media/pages/yellow11.webm",
        //"/media/pages/brush11.webm",

      ];

      // Randomly select a video for iOS
      const randomIOSVideo = iosVideos[Math.floor(Math.random() * iosVideos.length)];
      videoSourceBottom.src = randomIOSVideo;
      videoElementBottom.load(); // Reload the video
    }
  });
</script>


<script>
  // Get the video element
  const video = document.getElementById('myVideo');

  // Add an event listener for when the video ends
  video.addEventListener('ended', () => {
    // Hide or remove the video element
    video.style.display = 'none'; // Hide the video
    // OR you can remove it from the DOM with: video.remove();
  });
</script>
